<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ビットコインアドレス作成</title>
</head>
<body>
    <main>
        <p>
            <a href="./getBalance.html">残高取得</a>
            <a href="./sendToAddress.html">送金</a>
        </p>
        <p id="privateKey">秘密鍵</p>
        <p id="publicKey">公開鍵</p>
        <p id="bitcoinAddress">ビットコインアドレス</p>
        <button type="button" id="createAddressButton">アドレスを生成</button>
    </main>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
    $(document).ready(function() {
        $('#createAddressButton').click(function() {
            $.ajax({
                type: 'GET',
                url: 'http://localhost:28332/getNewAddress/'
            }).done(function(res) {
                $('#privateKey').text('秘密鍵: ' + res.privateKey);
                $('#publicKey').text('公開鍵: ' + res.publicKey);
                $('#bitcoinAddress').text('ビットコインアドレス: ' + res.bitcoinAddress);
            }).fail(function(res) {
                alert('Error');
            });
        });
    });
    </script>
</body>
</html>
